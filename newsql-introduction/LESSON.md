# メモと学び

TiDBはMySQLに寄せて作られている

mysqlクライアントで接続可能

## TiDBの機能概要

- オートスケールしない。ノード数はユーザが決める
- 外部キーはサポートしている。サポートしていないNewSQLもある
- レプリカノードがない

## TiDBのアーキテクチャ

- TiDB: SQLを解釈、実行計画を作成するコンピューティングノード
- TiKV: 分散KVSストレージノード
- PD: 各ノードの配置状況やクラスタの状況を管理するノード
  - どのTiKVノードにアクセスすればよいか教えるロードバランサの役割を担う

tiup playgroundでは最小構成(各1ノードずつ)で起動する



## TiDBの各種機能

### バックアップ

```
BACKUP DATABASE <database name> to 'local://<保存ディレクトリへの絶対パス>'
```

```
RESTORE DATABASE * FROM 'local://<保存ディレクトリへの絶対パス>'
```